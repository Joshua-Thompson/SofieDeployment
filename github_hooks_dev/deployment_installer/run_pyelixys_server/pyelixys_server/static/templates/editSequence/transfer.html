<script type="text/html" id="transfer-template">
<div class="operation-header">
<div data-bind="text: order"></div>
<span>TRANSFER</span>
</div>
  <div id="transferfields" class="operation-container" data-bind="with: dataWithValidators">
  
  	<div class="sourcereactor">
      <span class="operation-field-header">SOURCE REACTOR</span>
      <span class="operation-invalid" data-bind="visible: !sourcereactor_valid()">*</span>
      <div>
        <input type="radio" id="transfer-sourcereactor-3" name="sourcereactor" class="radio-option" data-bind="checked: sourcereactor, checkedValue: 2"/>
        <label for="transfer-sourcereactor-3" class="operation-number">3</label>
      </div>
      <div>
        <input type="radio" id="transfer-sourcereactor-2" name="reactor" class="radio-option" data-bind="checked: sourcereactor, checkedValue: 1"/>
        <label for="transfer-sourcereactor-2" class="operation-number">2</label>
      </div>
      <div>
        <input type="radio" id="transfer-sourcereactor-1" name="reactor" class="radio-option" data-bind="checked: sourcereactor, checkedValue: 0"/>
        <label for="transfer-sourcereactor-1" class="operation-number">1</label>
      </div>
      <br/>
      <span>Reactor whose contents will be transferred</span>
      <hr class="operation-separator"/>
    </div>
   
    <div class="destination">
      <span class="operation-field-header">DESTINATION</span>
      <span class="operation-invalid" data-bind="visible: !destination_valid()">*</span>
      <div data-bind="text: destination() == 'reactor' ? destination() + ' ' + Elixys.incNumber(targetreactor) : destination,
                      click: function() { Elixys.showTemplatedPopup('transfer-destination-popup-template', $parent.dataWithValidators, 'transfer-edit-destination'); }">

      </div>
      <br/>
      <span>Target where contents will be transferred</span>
      <hr class="operation-separator"/>
    </div>
	
	<div class="mode">
      <span class="operation-field-header">MODE</span>
      <span class="operation-invalid" data-bind="visible: !mode_valid()">*</span>
        <div data-bind="foreach: $parent.availableModes()">
          <span>
            <input type="radio" name="mode" class="radio-option" data-bind="checked: $parent.mode,
                                                                            checkedValue: $data['value'],
                                                                            attr: {
                                                                              id: $data['id']
                                                                            }"/>
            <label data-bind="text: $data['label'],
                              attr: {
                                for: $data['id']
                              }"></label>
          </span>
        </div>
      <br/>
      <span>Type of transfer</span>
	  <hr class="operation-separator"/>
    </div>
	
    <div class="pressure">
      <span class="operation-field-header">PRESSURE</span>
      <span class="operation-invalid" data-bind="visible: !pressure_valid()">*</span>
      <numeric-input params="value: pressure, min: 0, max: 30, maxlength: 3"></numeric-input>
      <br/>
      <span>Pressure to use while transferring (PSI)</span>
    </div>
	
	 <div class="duration" data-bind="style: { color: destination() !== 'hplc' ? '#444E58' : '#D7D9DC'}">
      <span class="operation-field-header">DURATION</span>
      <span class="operation-invalid" data-bind="visible: !transferduration_valid()">*</span>
      <timer-input params="value: transferduration, enable: destination()!=='hplc'"></timer-input>
      <br/>
      <span>Duration of transfer</span>
      <hr class="operation-separator"/>
    </div>
       
	<div class="stir" data-bind="style: {color: $parent.isStirable() ? '#444E58' : '#D7D9DC'}">
      <span class="operation-field-header">STIR</span>
      <span class="operation-invalid" data-bind="visible: !stir_valid()">*</span>
      <div>
        <input type="radio" id="transfer-stir-no" name="stir" class="radio-option no-border" data-bind="checked: stir,
                                                                                                        checkedValue: 0,
                                                                                                        enable: $parent.isStirable()"/>
        <label for="transfer-stir-no" class="operation-bool-text">No</label>
      </div>
      <div class="operation-bool-separator">/</div>
      <div>
        <input type="radio" id="transfer-stir-yes" name="stir" class="radio-option no-border" data-bind="checked: stir,
                                                                                                         checkedValue: 1,
                                                                                                         enable: $parent.isStirable()"/>
        <label for="transfer-stir-yes" class="operation-bool-text">Yes</label>
      </div>
      <div>
        <input type="button" class="stir-edit-button" value="Edit"
          data-bind="enable: stir,
                     click: function() { Elixys.showTemplatedPopup('transfer-stir-popup-template', $parent.dataWithValidators, 'transfer-edit-stir'); }"/>
      </div>
      <br/>
      <span>Stir while adding</span>
      <hr class="operation-separator"/>
    </div>
	
    <div class="message">
      <span class="operation-field-header">MESSAGE</span>
      <span class="operation-invalid" data-bind="visible: !message_valid()">*</span>
      <br/>
      <textarea class="operation-message" placeholder="Click to type" data-bind="textInput: message" rows="7"/>
    </div>
  </div>
</script>
